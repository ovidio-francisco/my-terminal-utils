#!/usr/bin/env bash


# ┌──────────────────────────────────────────────────────────────┐
# │ Created by: ChatGPT                                          │
# │ Conceived and guided by: Ovídio José Francisco               │
# └──────────────────────────────────────────────────────────────┘


set -euo pipefail

[[ $# -lt 1 ]] && { echo "Usage: show-md FILE.md"; exit 1; }

in="$1"
[[ -f "$in" ]] || { echo "File not found: $in" >&2; exit 1; }

base="$(basename "${in%.*}")"
out="/tmp/${base}.html"

pandoc "$in" -f gfm -s -o "$out" --metadata title="$base" --quiet

if command -v xdg-open >/dev/null; then
  xdg-open "$out" >/dev/null 2>&1 &
elif command -v open >/dev/null; then
  open "$out"
else
  echo "HTML saved to: $out"
fi
